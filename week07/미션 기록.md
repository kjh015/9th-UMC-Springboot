# 미션 기록

# RestControllerAdvice

---

`@ControllerAdvice` + `@ResponseBody`

**장점**

- 하나의 클래스로 모든 Exception을 AOP를 적용해 전역적으로 처리할 수 있다.
- 직접 정의한 에러 응답을 일관성있게 클라이언트에게 내려줄 수 있다.
- 별도의 try-catch문을 사용하지 않아 코드의 가독성과 유지보수성이 높아진다.

**없을 경우 불편한 점**

- 모든 컨트롤러마다 try-catch문을 사용해야 한다.
- @ExceptionHandler를 여러 군데에 작성해야 하고, 반복되는 코드 작성이 많아진다.

# API 응답통일 처리

---

## Review

**구현 API 목록**

1. 리뷰 검색 API `GET /reviews/search`
2. 내가 작성한 리뷰 검색 API `GET /reviews/members/{memberId}`

**수정사항**

- `Converter`, `DTO`, `Exception`, `ErrorCode`추가
- `Controller`수정

## Store

**구현 API 목록**

1. 가게 이름 검색 API `GET /stores/search`
2. 가게 추가 API `POST /stores`

**수정사항**

- `Converter`, `DTO`, `Exception`, `ErrorCode`추가
- `Controller`수정
- `StoreService`(필터링, 검색어), `StoreQueryDSLImpl`(정렬)에 `Exception`추가
- FetchJoin 추가

## Location

**구현 API 목록**

1. 지역 추가 API  `POST /locations`

**수정사항**

- `Converter`, `DTO`, `Exception`, `ErrorCode`추가
- `Controller`수정

## Member

**구현 API 목록**

1. 회원 탈퇴 시 배치 삭제 API `DELETE /member/{memberId}`

**수정사항**

- `Converter`, `DTO`, `Exception`, `ErrorCode`추가
- `Controller`수정

## Global

**수정사항**

- 페이지 처리 응답 DTO `BaseResDTO.Page` 추가